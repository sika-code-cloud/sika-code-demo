server:
  port: 8081
  tomcat:
    accept-count: 1024
debug: false
headImagePath: E:\project\sika-design\quasar-sika-design-admin\quasar-sika-design\public\imgs\head\
spring:
  test:
    database:
      replace: none
  shardingsphere:
    datasource:
      ds0:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_00?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds1:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_01?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds2:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_02?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds3:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_03?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds4:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_04?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds5:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_05?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds6:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_06?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      ds7:
        type: com.zaxxer.hikari.HikariDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        jdbc-url: 'jdbc:mysql://121.89.202.68:3306/test_db_07?useUnicode=true&rewriteBatchedStatements=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2B8&allowPublicKeyRetrieval=true'
        username: root
        password: SikaDesignAdmin20201225
        idle-timeout: '30000'
        connection-timeout: '3000'
        max-lifetime: '1800000'
        minimum-idle: '18'
        maximum-pool-size: '40'
      names: 'ds0,ds1,ds2,ds3,ds4,ds5,ds6,ds7'
    rules:
      sharding:
        auditors:
          sharding_key_required_auditor:
            type: DML_SHARDING_CONDITIONS
        default-audit-strategy:
          auditor-names:
            - sharding_key_required_auditor
          allow-hint-disable: 'true'
        sharding-algorithms:
          tb-to-ds-mapping:
            type: TWICE_HASH_COMPLEX_TO_DATASOURCE_MAPPING
            props:
#              table-to-datasource-mapping: 'ds0.${0..4095}'
              table-to-datasource-mapping: 'ds0.${0..511},ds1.${512..1023},ds2.${1024..1535},ds3.${1536..2047},ds4.${2048..2559},ds5.${2560..3071},ds6.${3072..3583},ds7.${3584..4095}'
              hot-customer-datasource: ''
              all-table-sequences: '${0..4095}'
              datasource-mod-number: '4096'
              table-mod-number: '4096'
              sharding-value-algorithms:
                cust_id: CUST_ID_SPECIAL_HASH_ALGORITHM
                order_no: ORDER_NO_SPECIAL_HASH_ALGORITHM
                refund_order_no: ORDER_NO_SPECIAL_HASH_ALGORITHM
          t-twice-hash-mod-cmplx:
            type: TWICE_HASH_COMPLEX_MULTI
            props:
              hot-customer-table: ''
              all-table-sequences: '${0..4095}'
              table-mod-number: '4096'
              sharding-value-algorithms:
                cust_id: CUST_ID_SPECIAL_HASH_ALGORITHM
                order_no: ORDER_NO_SPECIAL_HASH_ALGORITHM
                refund_order_no: ORDER_NO_SPECIAL_HASH_ALGORITHM
          t-twice-hash-mod:
            type: TWICE_HASH_MOD
            props:
              hot-customer-table: ''
              all-table-sequences: '${0..4095}'
              table-mod-number: '4096'
          db-table-to-datasource-mapping:
            type: TABLE_TO_DATASOURCE_MAPPING
            props:
              table-to-datasource-mapping: 'ds0.${0..511},ds1.${512..1023},ds2.${1024..1535},ds3.${1536..2047},ds4.${2048..2559},ds5.${2560..3071},ds6.${3072..3583},ds7.${3584..4095}'
              hot-customer-datasource: ''
              all-table-sequences: '${0..4095}'
              datasource-mod-number: '4096'
              table-mod-number: '4096'
        tables:
          t_order_mapping:
            actual-data-nodes: 'ds0.t_order_mapping_${0..511},ds1.t_order_mapping_${512..1023},ds2.t_order_mapping_${1024..1535},ds3.t_order_mapping_${1536..2047},ds4.t_order_mapping_${2048..2559},ds5.t_order_mapping_${2560..3071},ds6.t_order_mapping_${3072..3583},ds7.t_order_mapping_${3584..4095}'
            table-strategy:
              standard:
                sharding-algorithm-name: t-twice-hash-mod
                sharding-column: out_trade_no
            database-strategy:
              standard:
                sharding-algorithm-name: db-table-to-datasource-mapping
                sharding-column: out_trade_no
          t_mch_order:
            actual-data-nodes: 'ds0.t_mch_order_${0..511},ds1.t_mch_order_${512..1023},ds2.t_mch_order_${1024..1535},ds3.t_mch_order_${1536..2047},ds4.t_mch_order_${2048..2559},ds5.t_mch_order_${2560..3071},ds6.t_mch_order_${3072..3583},ds7.t_mch_order_${3584..4095}'
#            actual-data-nodes: 'ds0.t_mch_order_${0..4095}'
            table-strategy:
              complex:
                sharding-algorithm-name: t-twice-hash-mod-cmplx
                sharding-columns: 'cust_id,order_no'
            database-strategy:
              complex:
                sharding-algorithm-name: tb-to-ds-mapping
                sharding-columns: 'cust_id,order_no'
    props:
      sql-show: 'true'


    ################### mysq end ##########################
    ################### redis 单机版 start ##########################
  redis:
    host: 121.89.202.68
    port: 6379
#    host: localhost
#    port: 6379
    timeout: 3000
    password: SikaDesignAdmin20201225
    ################### redis 单机版 end ##########################
    #    cluster:
    #      nodes: localhost:6379
    #    nodes: 134.224.249.36:7000,134.224.249.37:7000,134.224.249.38:7000,134.224.249.36:7001,134.224.249.37:7001,134.224.249.38:7001
    ###        #130.75.131.237:7000,130.75.131.238:7000,130.75.131.239:7000,130.75.131.237:7001,130.75.131.238:7001,130.75.131.239:7001
    ##        #192.168.3.157:7000,192.168.3.158:7000,192.168.3.159:7000,192.168.3.157:7001,192.168.3.158:7001,192.168.3.159:7001


  #    timeout: 1000 # 连接超时时间（毫秒）
  #    pool:
  #      max-active: 2000  # 连接池最大连接数（使用负值表示没有限制）
  #      max-idle: 500     # 连接池中的最大空闲连接
  #      min-idle: 50     # 连接池中的最小空闲连接
  #      max-wait: 1000   # 连接池最大阻塞等待时间（使用负值表示没有限制）
  redisson:
    mode: single
    single:
      address: 121.89.202.68:6379
    password: SikaDesignAdmin20201225
sika:
  code:
    workspace:
      worker-id: 2
      data-center-id: 1
    rabbit:
      sender:
        log-fire: true
        ack: true
    ## ==========================restTemplate配置begin=====================================
    rest:
      template:
        maxTotal: 1500
        defaultMaxPerRoute: 1500
        connectTimeout: 12000
        readTimeout: 90000
        connectionRequestTimeout: 200
        bufferRequestBody: false
    ## ==========================restTemplate配置end=====================================
    auth:
      # jwt秘钥
      jwt-secret: ETZZN3KX194HXI82
      server-name: risk-system-server
    thirdparty:
      url:
        erpRequestDomain: http://erp-service
        erpRequestDomainHttps: https://api-gateway.52rental.com/oauth-server
        sjmhRequestDomainHttps: https://api.shujumohe.com/octopus
      erp:
        appId: 201801010001
        appSecret: cDieLmT10edZYU9diLmFMpMkZLLb1WaSk58wCuK7Nmwnmzz3wDwdYkmzzJNLgiCU
      sjmh:
        partnerCode: lxzp_mohe
        partnerKey: 18063e6db59948ce8ce301062e351fb3
    ################### 异常通知 begin ############################
    exception:
      inform:
        defaultWebHookForDingding:
      ################### 异常通知 end ############################

#设置最大超时时间
ribbon:
  ServerListRefreshInterval: 10  #刷新服务列表源的间隔时间
  httpclient:
    enabled: false
  okhttp:
    enabled: true
  ReadTimeout: 90000
  ConnectTimeout: 90000
  OkToRetryOnAllOperations: false
  MaxAutoRetries: 1
  MaxAutoRetriesNextServer: 1
  eureka:
    enabled: false
# 服务ribbon的负载配置
erp-service: # ERP服务
  ribbon:
    listOfServers: advance-new-api-gateway.52rental.com/oauth-server


##feign参数优化
feign:
  compression:
    request:
      enabled: true
      mine-types: text/xml,application/xml,application/json
      min-request-size: 2048
    response:
      enabled: true
logging:
  level:
    root: INFO
    com.netflix: OFF
    com.central: INFO
    org.hibernate: INFO
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.hibernate.type.descriptor.sql.BasicExtractor: TRACE

me:
  zhyd:
    oauth:
      timeout: 15000
      oauthConfig:
        gitee:
          requestClassName: me.zhyd.oauth.request.AuthGiteeRequest
          clientId: 427f193cd6a3319e8f84570a21cecc563ed80c4cd4d46e647312306fa7d74329
          clientSecret: 4ec7e3ab06fbda68414bc250a28858ec51f6e6e888f692760db3c1cc578e0900
          redirectUri: http://127.0.0.1:8101/auth/callback/gitee/anon
        github:
          requestClassName: me.zhyd.oauth.request.AuthGithubRequest
          clientId: a60f78e6b3f5dcd39510
          clientSecret: a952fb6de66b6d96fd1719d53d03a6d6b03d0113
          redirectUri: http://localhost:8101/auth/callback/github/anon
        weibo:
          clientId:
          clientSecret:
          redirectUri:
        dingtalk:
          clientId:
          clientSecret:
          redirectUri:
        baidu:
          requestClassName: me.zhyd.oauth.request.AuthBaiduRequest
          clientId: VCgfYwoGjvtdiWe60qWwbLSk
          clientSecret: OhGKutO24BUGP7i46085bQWC9KdreExm
          redirectUri: http://localhost:8101/auth/callback/baidu/anon
        coding:
          clientId:
          clientSecret:
          redirectUri:
        tencentCloud:
          clientId:
          clientSecret:
          redirectUri:
        oschina:
          clientId:
          clientSecret:
          redirectUri:
        alipay:
          clientId:
          clientSecret:
          redirectUri:
          alipayPublicKey:
        qq:
          requestClassName: me.zhyd.oauth.request.AuthQqRequest
          clientId: 101931120
          clientSecret: d73650b6f64203a45bd3c503a4afa644
          redirectUri: http://quasar.admin.sikacode.com/api/auth/callback/qq/anon
        wechat:
          clientId:
          clientSecret:
          redirectUri:
        taobao:
          clientId:
          clientSecret:
          redirectUri:
        google:
          clientId:
          clientSecret:
          redirectUri:
        facebook:
          clientId:
          clientSecret:
          redirectUri:
        douyin:
          clientId:
          clientSecret:
          redirectUri:
        linkedin:
          clientId:
          clientSecret:
          redirectUri:
        microsoft:
          clientId:
          clientSecret:
          redirectUri:
        mi:
          clientId:
          clientSecret:
          redirectUri:
        toutiao:
          clientId:
          clientSecret:
          redirectUri:
        teambition:
          clientId:
          clientSecret:
          redirectUri:
        renren:
          clientId:
          clientSecret:
          redirectUri:
        pinterest:
          clientId:
          clientSecret:
          redirectUri:
        stackoverflow:
          clientId:
          clientSecret:
          redirectUri:
          stackOverflowKey:
        huawei:
          clientId:
          clientSecret:
          redirectUri:
        wechatEnterprise:
          clientId:
          clientSecret:
          redirectUri:
          agentId: